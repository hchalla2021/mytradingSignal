# üî• DEPLOY PRODUCTION WEBSOCKET SYSTEM (Windows)\n\nWrite-Host \"üî• DEPLOYING PRODUCTION WEBSOCKET SYSTEM\" -ForegroundColor Red\nWrite-Host \"==========================================\" -ForegroundColor Yellow\n\n# Check if we're in the right directory\nif (!(Test-Path \"package.json\") -and !(Test-Path \"requirements.txt\")) {\n    Write-Host \"‚ùå Run this from the project root directory\" -ForegroundColor Red\n    exit 1\n}\n\nWrite-Host \"üì¶ Building frontend with mobile Safari fixes...\" -ForegroundColor Blue\nSet-Location frontend\nnpm run build\nif ($LASTEXITCODE -ne 0) {\n    Write-Host \"‚ùå Frontend build failed\" -ForegroundColor Red\n    exit 1\n}\nSet-Location ..\n\nWrite-Host \"üîß Installing backend dependencies...\" -ForegroundColor Blue\nSet-Location backend\npip install -r requirements.txt\nSet-Location ..\n\nWrite-Host \"‚öôÔ∏è Creating production environment config...\" -ForegroundColor Green\n$prodConfig = @\"\n# Production WebSocket Settings\nUSE_PRODUCTION_WEBSOCKET=true\nWEBSOCKET_PING_INTERVAL=25000\nWEBSOCKET_RECONNECT_DELAY=3000\nTICK_TIMEOUT_SECONDS=30\n\n# Keep your existing auth settings:\n# ZERODHA_API_KEY=your_key_here\n# ZERODHA_API_SECRET=your_secret_here\n# JWT_SECRET=your_jwt_secret\n# REDIS_URL=your_redis_url\n\"@\n\n$prodConfig | Out-File -FilePath \"backend\\.env.production\" -Encoding UTF8\n\nWrite-Host \"üß™ Testing production WebSocket...\" -ForegroundColor Cyan\nWrite-Host \"‚ö†Ô∏è  Make sure your Zerodha credentials are set in backend\\.env\" -ForegroundColor Yellow\nWrite-Host \"\"\nWrite-Host \"To test:\" -ForegroundColor White\nWrite-Host \"  cd backend && python test_production_websocket.py\" -ForegroundColor Gray\nWrite-Host \"\"\nWrite-Host \"To start production servers:\" -ForegroundColor White\nWrite-Host \"  Backend: cd backend && uvicorn main:app --host 0.0.0.0 --port 8000\" -ForegroundColor Gray\nWrite-Host \"  Frontend: cd frontend && npm start\" -ForegroundColor Gray\nWrite-Host \"\"\nWrite-Host \"üì± Mobile Safari Test:\" -ForegroundColor Magenta\nWrite-Host \"  1. Deploy to production domain\" -ForegroundColor Gray\nWrite-Host \"  2. Test on iPhone Safari\" -ForegroundColor Gray\nWrite-Host \"  3. Check browser console (should be error-free)\" -ForegroundColor Gray\nWrite-Host \"\"\nWrite-Host \"‚úÖ PRODUCTION WEBSOCKET SYSTEM READY!\" -ForegroundColor Green\nWrite-Host \"üéØ Features enabled:\" -ForegroundColor White\nWrite-Host \"   ‚úÖ Silent connection detection\" -ForegroundColor Green\nWrite-Host \"   ‚úÖ Auto-recovery at 9:15 AM\" -ForegroundColor Green\nWrite-Host \"   ‚úÖ Market timing awareness\" -ForegroundColor Green\nWrite-Host \"   ‚úÖ Mobile Safari compatibility\" -ForegroundColor Green\nWrite-Host \"   ‚úÖ Real-time status monitoring\" -ForegroundColor Green\nWrite-Host \"\"\nWrite-Host \"üìä Monitor status at: /api/health\" -ForegroundColor Cyan\nWrite-Host \"üîÑ Force reconnect: POST to /api/market/reconnect\" -ForegroundColor Cyan\n\nWrite-Host \"\"\nWrite-Host \"üöÄ Ready for production deployment!\" -ForegroundColor Red